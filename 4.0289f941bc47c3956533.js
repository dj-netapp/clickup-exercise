(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{zrcO:function(t,e,s){"use strict";s.r(e),s.d(e,"UsersModule",function(){return X});var r=s("ofXK"),o=s("+0xr"),c=s("5+WD"),n=s("f6nW"),i=s("tyNb"),a=s("vkgz"),u=s("pLZG"),l=s("SxV6"),p=s("fXoL"),d=s("hlQ1");let b=(()=>{class t extends d.b{constructor(t){super("User",t),this.serviceElementsFactory=t}}return t.\u0275fac=function(e){return new(e||t)(p.Xb(d.c))},t.\u0275prov=p.Jb({token:t,factory:t.\u0275fac}),t})(),h=(()=>{class t{constructor(t){this.usersEntityService=t}resolve(){return this.usersEntityService.loaded$.pipe(Object(a.a)(t=>{t||this.usersEntityService.getAll()}),Object(u.a)(t=>!!t),Object(l.a)())}}return t.\u0275fac=function(e){return new(e||t)(p.Xb(b))},t.\u0275prov=p.Jb({token:t,factory:t.\u0275fac}),t})();var f=s("LRne"),m=s("eIep"),g=function(t){return t.UP="asc",t.DOWN="desc",t}({});let v=(()=>{class t{constructor(){this.searchTerm=new p.o}searchUsersTable(t){this.searchTerm.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Hb({type:t,selectors:[["app-users-list-search"]],outputs:{searchTerm:"searchTerm"},decls:2,vars:0,consts:[["type","text","name","search","placeholder","Search...","autofocus","","autocomplete","off",1,"search",3,"input"],["search",""]],template:function(t,e){if(1&t){const t=p.Ub();p.Tb(0,"input",0,1),p.ac("input",function(){p.lc(t);const s=p.kc(1);return e.searchUsersTable(s.value)}),p.Sb()}},styles:[".search[_ngcontent-%COMP%]{width:250px;height:32px;padding:0 5px}"]}),t})();var S=s("hqcX");function k(t,e){1&t&&p.Ob(0,"img",2)}function w(t,e){1&t&&p.Ob(0,"img",3)}const x=["*"];let y=(()=>{class t{constructor(t){this.sortListService=t,this.sortModeAsc=g.UP,this.sortModeDesc=g.DOWN,this.sortMode=""}sortColumn(){this.sortMode=this.sortMode===this.sortModeDesc?this.sortModeAsc:this.sortModeDesc,this.sortListService.sortColumn({column:this.columnToSort,mode:this.sortMode})}ngOnInit(){this.columnSortSubscription=this.sortListService.sortValue.subscribe(t=>{this.columnToSort!==t.column&&(this.sortMode="")})}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(S.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-sort-list-column"]],hostBindings:function(t,e){1&t&&p.ac("click",function(){return e.sortColumn()})},inputs:{columnToSort:"columnToSort",sortMode:"sortMode"},ngContentSelectors:x,decls:3,vars:2,consts:[["src","assets/icons/sort-up.svg","alt","sort-up","class","icon-size",4,"ngIf"],["src","assets/icons/sort-down.svg","alt","sort-down","class","icon-size",4,"ngIf"],["src","assets/icons/sort-up.svg","alt","sort-up",1,"icon-size"],["src","assets/icons/sort-down.svg","alt","sort-down",1,"icon-size"]],template:function(t,e){1&t&&(p.hc(),p.gc(0),p.pc(1,k,1,0,"img",0),p.pc(2,w,1,0,"img",1)),2&t&&(p.Db(1),p.ic("ngIf",e.sortMode===e.sortModeAsc),p.Db(1),p.ic("ngIf",e.sortMode===e.sortModeDesc))},directives:[r.j],styles:[".icon-size[_ngcontent-%COMP%]{height:16px;width:16px}"]}),t})(),D=(()=>{class t{constructor(t){this.sortListService=t,this.sort=new p.o}ngOnInit(){this.sortColumnSubscription=this.sortListService.sortValue.subscribe(t=>{this.sort.emit(t)})}ngOnDestroy(){this.sortColumnSubscription&&this.sortColumnSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(S.a))},t.\u0275dir=p.Ib({type:t,selectors:[["","appSortList",""]],outputs:{sort:"sort"}}),t})();function M(t,e){if(1&t&&(p.Tb(0,"th",7),p.Tb(1,"app-sort-list-column",8),p.qc(2),p.ec(3,"titlecase"),p.Sb(),p.Sb()),2&t){const t=p.dc().$implicit,e=p.dc();p.Db(1),p.ic("columnToSort",t)("sortMode","id"===t?e.sortModeEnum.UP:""),p.Db(1),p.sc(" ",p.fc(3,3,t)," ")}}function C(t,e){if(1&t&&(p.Tb(0,"td",9),p.qc(1),p.Sb()),2&t){const t=e.$implicit,s=p.dc().$implicit;p.Db(1),p.rc(t[s])}}function O(t,e){1&t&&(p.Rb(0,4),p.pc(1,M,4,5,"th",5),p.pc(2,C,2,1,"td",6),p.Qb()),2&t&&p.ic("cdkColumnDef",e.$implicit)}function T(t,e){if(1&t){const t=p.Ub();p.Tb(0,"tr",10),p.ac("sort",function(e){return p.lc(t),p.dc().sortColumnByName(e)}),p.Sb()}}function L(t,e){1&t&&p.Ob(0,"tr",11)}let j=(()=>{class t{constructor(){this.sortModeEnum=g,this.sortByTerm=new p.o,this.columns=["id","name","username","website","email","phone"]}trackById(t,e){return e.id}sortColumnByName(t){this.sortByTerm.emit(t)}drop(t){Object(c.d)(this.columns,t.previousIndex,t.currentIndex)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Hb({type:t,selectors:[["app-users-list"]],inputs:{users:"users"},outputs:{sortByTerm:"sortByTerm"},decls:4,vars:4,consts:[["cdk-table","","cdkDropList","","cdkDropListOrientation","horizontal",1,"table","table-striped","table-hover",3,"dataSource","cdkDropListDropped"],[3,"cdkColumnDef",4,"ngFor","ngForOf"],["cdk-header-row","","appSortList","",3,"sort",4,"cdkHeaderRowDef"],["cdk-row","",4,"cdkRowDef","cdkRowDefColumns"],[3,"cdkColumnDef"],["cdk-header-cell","","cdkDrag","","cdkDragLockAxis","x",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdk-header-cell","","cdkDrag","","cdkDragLockAxis","x"],[3,"columnToSort","sortMode"],["cdk-cell",""],["cdk-header-row","","appSortList","",3,"sort"],["cdk-row",""]],template:function(t,e){1&t&&(p.Tb(0,"table",0),p.ac("cdkDropListDropped",function(t){return e.drop(t)}),p.pc(1,O,3,1,"ng-container",1),p.pc(2,T,1,0,"tr",2),p.pc(3,L,1,0,"tr",3),p.Sb()),2&t&&(p.ic("dataSource",e.users),p.Db(1),p.ic("ngForOf",e.columns),p.Db(1),p.ic("cdkHeaderRowDef",e.columns),p.Db(1),p.ic("cdkRowDefColumns",e.columns))},directives:[n.q,c.b,r.i,n.m,n.p,n.e,n.k,n.c,n.j,c.a,y,n.b,n.l,D,n.o],pipes:[r.o],styles:['table[_ngcontent-%COMP%]{width:100%;margin-top:30px}th[_ngcontent-%COMP%]:hover{cursor:pointer}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 15px;position:relative}.cdk-drag-preview[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;left:5px;right:5px;border-radius:4px;border:1px solid rgba(0,0,0,.4);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{color:transparent;position:relative;transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;left:5px;right:5px;border-radius:4px;background:rgba(0,0,0,.1);border:1px dotted rgba(0,0,0,.4)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}']}),t})();const U=[{path:"",component:(()=>{class t{constructor(t){this.usersEntityService=t}ngOnInit(){this.load()}load(){this.users$=this.usersEntityService.entities$.pipe(Object(m.a)(t=>Object(f.a)(t)))}searchUsers(t){this.users$=this.usersEntityService.entities$.pipe(Object(m.a)(e=>Object(f.a)(e.filter(e=>this.checkIfSomeValuesMatch(t,e)))))}checkIfSomeValuesMatch(t,e){return Object.values(e).some(e=>e===parseInt(t)||"string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))}sortColumn(t){this.users$=this.usersEntityService.entities$.pipe(Object(m.a)(e=>Object(f.a)(e.sort((e,s)=>this.sortByModeAndColumn(e,s,t)).map(t=>t))))}sortByModeAndColumn(t,e,s){const{column:r,mode:o}=s;return t[r]>e[r]?o===g.UP?1:-1:t[r]<e[r]?o===g.UP?-1:1:0}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(b))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-users"]],decls:8,vars:3,consts:[[1,"d-flex","flex-row","justify-content-between","align-items-center"],[3,"searchTerm"],[1,"d-flex","flex-row"],[1,"flex-grow-1","flex-fill"],[3,"users","sortByTerm"]],template:function(t,e){1&t&&(p.Tb(0,"div",0),p.Tb(1,"h3"),p.qc(2,"Users"),p.Sb(),p.Tb(3,"app-users-list-search",1),p.ac("searchTerm",function(t){return e.searchUsers(t)}),p.Sb(),p.Sb(),p.Tb(4,"div",2),p.Tb(5,"div",3),p.Tb(6,"app-users-list",4),p.ac("sortByTerm",function(t){return e.sortColumn(t)}),p.ec(7,"async"),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Db(6),p.ic("users",p.fc(7,1,e.users$)))},directives:[v,j],pipes:[r.b],styles:[""]}),t})(),resolve:{users:h}}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({imports:[[i.f.forChild(U)],i.f]}),t})();var P=s("lJxs"),B=s("tk/3");let $=(()=>{class t extends d.a{constructor(t,e){super("User",t,e),this.httpClient=t,this.url="https://jsonplaceholder.typicode.com/users"}getAll(){return this.httpClient.get(this.url).pipe(Object(P.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(p.Xb(B.a),p.Xb(d.g))},t.\u0275prov=p.Jb({token:t,factory:t.\u0275fac}),t})();var z=s("PCNd");const E={User:{}};let X=(()=>{class t{constructor(t,e,s){this.entityDefinitionService=t,this.entityDataService=e,this.usersDataService=s,this.entityDefinitionService.registerMetadataMap(E),this.entityDataService.registerService("User",this.usersDataService)}}return t.\u0275fac=function(e){return new(e||t)(p.Xb(d.f),p.Xb(d.e),p.Xb($))},t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({providers:[$,b,h],imports:[[r.c,n.r,c.c,o.a,z.a,I]]}),t})()}}]);